TNZ=window.TNZ||{},TNZ.TrackingFFController=function(dn){var e="airasia",sn="airtahitinui",on="airnz",cn="airnzkr",a="airnzint",ln="cathay",fn="cathayV2",vn="chinasouthern",un="chinaeastern",mn="emirates",pn="emiratesLink",gn="garudaairlines",yn="hawaiian",bn="jetstar",kn="korean",hn="koreanjp",Dn="malaysia",Cn="malaysiain",_n="malaysiaLink",Rn="pal",wn="qantas",xn="qantasjp",Tn="qantasbanner",Fn="qatarairways",Mn="singapore",On="thaiairways",i="intercity",r="interislander",d="thl",Yn="tam",An="united",s="wilderness";function Vn(n,t,e,a){var i="";return i+="Cities:"+n+"-"+t,i+=",Dates:"+e,a&&a.length&&(i+=":"+a),i.toLowerCase()}function Ln(n){var t="[unknown]"+n;switch(n){case e:t="air asia";break;case sn:t="air tahiti nui";break;case on:case cn:case a:t="air new zealand";break;case mn:case pn:t="emirates";break;case wn:case xn:case Tn:t="qantas";break;case Fn:t="qatar airways";break;case ln:case fn:t="cathay pacific";break;case Mn:t="singapore airlines";break;case kn:case hn:t="korean air";break;case Dn:case Cn:t="malaysia airlines";break;case _n:break;case bn:t="JetStar";break;case vn:t="china southern";break;case un:t="china eastern";break;case yn:t="hawaiian airlines";break;case On:t="thai airways";break;case Yn:t="tam";break;case d:t="thl";break;case s:t="Wilderness motorhomes";break;case i:t="intercity";break;case r:t="interislander";break;case An:t="united";break;case gn:t="garuda airlines";break;case Rn:t="philippines airlines"}return t}function o(n,t){var e=dn({});-1<[yn].indexOf(n)?e.data("eVar48",Ln(n)):e.data("eVar48",n),e.data("eVar38","farefinder"),e.data("eVar47",t),e.data("eVar8",Ln(n)),e.data("events","event31"),e.data("description","Farefinder: "+n),e.data("type",Nn(n)),dn.omnitureTracking.omnitureLink(e)}function Nn(n){var t="airline";switch(n){case s:case Yn:case d:t="campervan";break;case i:t="bus";break;case r:t="ferry"}return t}dn.extend({trackingFFController:{farefinderTracking:function(n,t){var e,a,i,r,d,s,o,c,l,f,v,u,m,p,g,y,b,k,h,D,C,_,R,w,x,T,F,M,O,Y,A,V,L,N,j,q,z,S,J,Z,E,Q,W,B,G,H,I,K,P,U,X,$,nn,tn,en,an="";switch(n){case on:an=1==("return"==dn(en=t).contents().find("input[name=fare_type]:checked").val())?Vn(dn(en).contents().find("#departure_point").val(),dn(en).contents().find("#arrival_point").val(),dn(en).contents().find("[name=depart_yearmonth]").val()+"-"+dn(en).contents().find("[name=depart_date]").val(),dn(en).contents().find("[name=arrival_yearmonth]").val()+"-"+dn(en).contents().find("[name=arrival_date]").val()):Vn(dn(en).contents().find("#departure_point").val(),dn(en).contents().find("#arrival_point").val(),dn(en).contents().find("[name=depart_yearmonth]").val()+"-"+dn(en).contents().find("[name=depart_date]").val());break;case cn:n=on,an=1==dn((tn=t).Round_Trip[0]).attr("checked")?Vn(dn(tn.o_city1).val(),dn(tn.d_city1).val(),(new Date).getFullYear()+"-"+dn(tn.mon1).val()+"-"+dn(tn.day1).val(),(new Date).getFullYear()+"-"+dn(tn.mon2).val()+"-"+dn(tn.day2).val()):Vn(dn(tn.o_city1).val(),dn(tn.d_city1).val(),(new Date).getFullYear()+"-"+dn(tn.mon1).val()+"-"+dn(tn.day1).val());break;case"airnzkrgif":case"airnzintgif":n=on,an="N/A - Tile Only";break;case yn:n=yn,an="N/A - Tile Only";break;case mn:U=1!=dn(P=t).contents().find("input[name='triptype']:checked").val(),X=(new Date).getFullYear(),$=Math.max(dn(P).contents().find("[name=seldyear1]").val(),X),nn=Math.max(dn(P).contents().find("[name=seldyear2]").val(),X),an=1==U?Vn(dn(P).contents().find("[name=seldcity1]").val(),dn(P).contents().find("[name=selacity1]").val(),$+"-"+dn(P).contents().find("[name=seldmonth1]").val()+"-"+dn(P).contents().find("[name=seldday1]").val(),nn+"-"+dn(P).contents().find("[name=seldmonth2]").val()+"-"+dn(P).contents().find("[name=seldday2]").val()):Vn(dn(P).contents().find("[name=seldcity1]").val(),dn(P).contents().find("[name=selacity1]").val(),$+"-"+dn(P).contents().find("[name=seldmonth1]").val()+"-"+dn(P).contents().find("[name=seldday1]").val());break;case pn:n=mn,an="Link Clicked";break;case wn:an=function(n){var t="R"==dn(n).contents().find("input[name='intTripType']:checked").val(),e=dn(n).contents().find("#intDepDay").val()+","+dn(n).contents().find("#intDepMonthYear").val();if(e=e.split(",").reverse().join("-"),1!=t)return Vn(dn(n).contents().find("#intFrom").val(),dn(n).contents().find("#intTo").val(),e);var a=dn(n).contents().find("#intRetDay").val()+","+dn(n).contents().find("#intRetMonthYear").val();return a=a.split(",").reverse().join("-"),Vn(dn(n).contents().find("#intFrom").val(),dn(n).contents().find("#intTo").val(),e,a)}(t);break;case xn:H=(G=t).travelDates.value,I=H.substring(0,8),K=H.substring(H.indexOf(",")+1,H.indexOf(",")+9),I=I.substring(0,4)+"-"+I.substring(4,6)+"-"+I.substring(6,8),K=K.substring(0,4)+"-"+K.substring(4,6)+"-"+K.substring(6,8),an=1!=("R"==G.tripType.value)?Vn(G.depAirports.value,G.destAirports.value,I):Vn(G.depAirports.value.substring(0,G.depAirports.value.indexOf(",")),G.depAirports.value.substring(G.depAirports.value.indexOf(",")+1,G.depAirports.value.indexOf(",")+4),I,K);break;case Tn:n=wn,an="N/A - Tile Only";break;case ln:an=function(n){var t="R"==dn(n).contents().find("[name=tripType]").val(),e=(new Date).getFullYear(),a=dn(n).contents().find("[name=d_month]").val(),i=Math.max(a.substring(0,4),e)+"-"+a.substring(4,6)+"-"+dn(n).contents().find("[name=d_day]").val();if(1!=t)return Vn(dn(n).contents().find("[name=d_city]").val(),dn(n).contents().find("[name=r_city]").val(),i);var r=dn(n).contents().find("[name=r_month]").val(),d=Math.max(r.substring(0,4),e)+"-"+r.substring(4,6)+"-"+dn(n).contents().find("[name=r_day]").val();return Vn(dn(n).contents().find("[name=d_city]").val(),dn(n).contents().find("[name=r_city]").val(),i,d)}(t);break;case fn:B=W="",W=(Q=t).date_outbound,B=Q.date_inbound,8<=Q.date_outbound.length&&(W=Q.date_outbound.substring(0,4)+"-"+Q.date_outbound.substring(4,6)+"-"+Q.date_outbound.substring(6,8)),8<=Q.date_inbound.length&&(B=Q.date_inbound.substring(0,4)+"-"+Q.date_inbound.substring(4,6)+"-"+Q.date_inbound.substring(6,8)),an="R"==Q.trip_type?Vn(Q.origin,Q.destination,W,B):Vn(Q.origin,Q.destination,W);break;case Mn:Z=dn(J=t).contents().find('[name="ondCityCode[0].month"]').val().split("/"),E=dn(J).contents().find('[name="ondCityCode[1].month"]').val().split("/"),an=Vn(dn(J).contents().find('[name="ondCityCode[0].origin"]').val(),dn(J).contents().find('[name="ondCityCode[0].destination"]').val(),Z[1]+"-"+Z[0]+"-"+dn(J).contents().find('[name="ondCityCode[0].day"]').val(),E[1]+"-"+E[0]+"-"+dn(J).contents().find('[name="ondCityCode[1].day"]').val());break;case kn:S="","round"==dn(z=t).contents().find('[name="breturn"]').val()&&(S=dn(z).contents().find('[name="month2"]').val()+"-"+dn(z).contents().find('[name="day2"]').val()),an=Vn(dn(z).contents().find('[name="orgCityCode"]').val(),dn(z).contents().find('[name="destCityCode"]').val(),dn(z).contents().find('[name="month1"]').val()+"-"+dn(z).contents().find('[name="day1"]').val(),S);break;case hn:V=dn(A=t).contents().find('[name="orgMonth"]').val(),L=dn(A).contents().find('[name="orgDay"]').val(),N=dn(A).contents().find('[name="returnMonth"]').val(),j=dn(A).contents().find('[name="returnDay"]').val(),q="",0<j.length&&(q=j+"-"+N.substring(5,7)+"-"+N.substring(0,4)),an=Vn(dn(A).contents().find('[name="orgCityCode"]').val(),dn(A).contents().find('[name="destCityCode"]').val(),sDepartDate=L+"-"+V.substring(5,7)+"-"+V.substring(0,4),q);break;case Dn:an=Vn(dn(Y=t).contents().find('[name="ondCityCode[0].origin"]').val(),dn(Y).contents().find('[name="ondCityCode[0].destination"]').val(),dn(Y).contents().find('[name="ondCityCode[0].month"]').val()+"-"+dn(Y).contents().find('[name="ondCityCode[0].day"]').val(),dn(Y).contents().find('[name="ondCityCode[1].month"]').val()+"-"+dn(Y).contents().find('[name="ondCityCode[1].day"]').val());break;case Cn:an=Vn(dn(O=t).contents().find("#originCode").val(),dn(O).contents().find("#destCode").val(),dn(O).contents().find("#departMonthYear").val()+"-"+dn(O).contents().find("#departDay").val(),dn(O).contents().find("#returnMonthYear").val()+"-"+dn(O).contents().find("#returnDay").val());break;case _n:n=Dn,an="Link Clicked";break;case bn:F=dn(T=t).contents().find('[name="ondCityCode[0].month"]').val().split("/"),M=dn(T).contents().find('[name="ondCityCode[1].month"]').val().split("/"),an=Vn(dn(T).contents().find('[name="ondCityCode[0].origin"]').val(),dn(T).contents().find('[name="ondCityCode[0].destination"]').val(),F[1]+"-"+F[0]+"-"+dn(T).contents().find('[name="ondCityCode[0].day"]').val(),M[1]+"-"+M[0]+"-"+dn(T).contents().find('[name="ondCityCode[1].day"]').val());break;case sn:_=t,R=new Date(dn(_).contents().find("#txtDepartureDate").val()),w=new Date(dn(_).contents().find("#txtReturnDate").val()),x="",dn(_).contents().find("#rbReturn").attr("checked")&&(x=w.getFullYear()+"-"+(w.getMonth()+1)+"-"+w.getDate()),an=Vn(dn(_).contents().find("#ddlOrigin").val(),dn(_).contents().find("#ddlDestination").val(),R.getFullYear()+"-"+(R.getMonth()+1)+"-"+R.getDate(),x);break;case On:an=Vn((C=t).orig,C.dest,C.dtDep,C.dtRet);break;case Yn:p=dn(m=t).contents().find("#airport-origin").val(),g=dn(m).contents().find("#airport-destination").val(),y=dn(m).contents().find("#date-going").val().split("/"),b=[],k=dn(m).contents().find("#date-return").val(),h=y[2]+"-"+y[1]+"-"+y[0],D="",1<k.trim().length&&(D=(b=k.split("/"))[2]+"-"+b[1]+"-"+b[0]),an=Vn(p,g,h,D);break;case vn:an=1==("R"==dn(u=t).contents().find("input[name=segtype]:checked").val())?Vn(dn(u).contents().find("#name_city1").val(),dn(u).contents().find("#name_city2").val(),dn(u).contents().find("#mon1").val()+"-"+dn(u).contents().find("#dat1").val(),dn(u).contents().find("#mon2").val()+"-"+dn(u).contents().find("#dat2").val()):Vn(dn(u).contents().find("#name_city1").val(),dn(u).contents().find("#name_city2").val(),dn(u).contents().find("#mon1").val()+"-"+dn(u).contents().find("#dat1").val());break;case un:an=Vn(dn(v=t).contents().find("input[name='placeOne']").val(),dn(v).contents().find("input[name='placeTwo']").val(),dn(v).contents().find("input[name='departureDate']").val(),dn(v).contents().find("input[name='returnDate']").val());break;case An:an=function(n){var t="checked"===dn(n.roundtrip).attr("checked"),e=new Date(Date.parse(dn(n).contents().find("#date-depart").val()));if(1!=t)return Vn(dn(n).contents().find("#from").val(),dn(n).contents().find("#to").val(),e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2));var a=new Date(Date.parse(dn(n).contents().find("#date-return").val()));return Vn(dn(n).contents().find("#from").val(),dn(n).contents().find("#to").val(),e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2),a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2))}(t);break;case gn:i="Return"==dn(a=t).contents().find("input[name='tripType']:checked").val(),d=(r={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"})[dn(a).contents().find("select[id='ddlDepMonth']").val().split(" ")[0]],s=dn(a).contents().find("select[id='ddlDepMonth']").val().split(" ")[1],o=r[dn(a).contents().find("select[id='ddlRetMonth']").val().split(" ")[0]],c=dn(a).contents().find("select[id='ddlRetMonth']").val().split(" ")[1],l=s+"-"+d+"-"+dn(a).contents().find("select[id='ddlDepDay']").val(),f=i?c+"-"+o+"-"+dn(a).contents().find("select[id='ddlRetDay']").val():"",an=Vn(dn(a).contents().find("select[id='originairportcode']").val(),dn(a).contents().find("select[id='destairportcode']").val(),l,f);break;case Fn:an=1==("O"!=dn(e=t).contents().find("input[name='tripType']:checked").val())?Vn(dn(e).contents().find("#fromStation").val(),dn(e).contents().find("#toStation").val(),dn(e).contents().find("[name=departing]").val(),dn(e).contents().find("[name=returning]").val()):Vn(dn(e).contents().find("#fromStation").val(),dn(e).contents().find("#toStation").val(),dn(e).contents().find("[name=departing]").val());break;case Rn:n=Rn,an="Link Clicked";break;default:an="[unknown]"}var rn=dn({});-1<[yn].indexOf(n)?rn.data("eVar48",Ln(n)):rn.data("eVar48",n),rn.data("eVar38","farefinder"),rn.data("eVar47",an),rn.data("eVar8",Ln(n)),rn.data("events","event31"),rn.data("description","Farefinder: "+n),rn.data("type",Nn(n)),dn.omnitureTracking.omnitureLink(rn)}}}),dn.ffanz=function(n){var t=dn.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);o(on,Vn(t.org,t.dest,t.dtDepart,t.dtReturn))},dn.ffchinaeastern=function(n){var t=dn.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);o(un,Vn(t.org,t.dest,t.dtDepart,t.dtReturn))},dn.ffaasia=function(n){var t=dn.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);o(e,Vn(t.org,t.dest,t.dtDepart,t.dtReturn))},dn.ffemirates=function(n){var t=dn.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);o(mn,Vn(t.org,t.dest,t.dtDepart,t.dtReturn))},dn.ffhawaiian=function(n){var t=dn.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);o(yn,Vn(t.org,t.dest,t.dtDepart,t.dtReturn))},dn.ffkorean=function(n){var t=dn.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);o(kn,Vn(t.org,t.dest,t.dtDepart,t.dtReturn))},dn.ffkoreanjp=function(n){var t=dn.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);o(hn,Vn(t.org,t.dest,t.dtDepart,t.dtReturn))},dn.ffthl=function(n){var t=dn.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);o(d,Vn(t.org,t.dest,t.dtDepart,t.dtReturn))},dn.ffwilderness=function(n){var t=dn.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);o(s,Vn(t.org,t.dest,t.dtDepart,t.dtReturn))},dn.ffintercity=function(n){var t=dn.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);o(i,Vn(t.org,t.dest,t.dtDepart,t.dtReturn))},dn.ffinterislander=function(n){var t=dn.extend({org:"",dest:"",dtDepart:"",dtReturn:""},n);o(r,Vn(t.org,t.dest,t.dtDepart,t.dtReturn))}},TNZ.JSLib.requireLoadEvent(["jqready"],function(){TNZ.TrackingFFController(jQuery)});