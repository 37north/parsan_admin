TNZ=window.TNZ||{},TNZ.Bookmark=function(t){t=t||jQuery;var n={$swiperReference:null,bHasSwiper:null};n.$document=t(document),n.$window=t(window),n.bookmarkClass=".js-bookmark",n.buttonClass=".js-bookmark-info",n.active_class_mini="is-open",n.active_class_modal="js-modal-is-open",n.breakpoint_modal="wide",n.breakpoint_mini="desktop",n.assetImageClass=".figure-image--wrapper",n.$bookmark=t(n.bookmarkClass),izimodalSettings={headerColor:"#171717",background:"#FFFFFF",borderBottom:!1,onClosed:function(){e()}};var o=function(){var e=document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientWidth:document.body?document.body.clientWidth:void 0,o=[{phone:380},{"large-phone":520},{phablet:640},{tablet:768},{tabtop:920},{desktop:1024},{wide:1280}],a=[];for(i=0;i<o.length;i++){var s=o[i];for(var n in s){if(s.hasOwnProperty(n))e<s[n]?a.push("<"+n):a.push(">"+n)}}return a},a=function(e){return-1<o().indexOf(e)},s=function(e){return e.hasClass("js-use-modal")},r=function(e,o){var a=e.parents("figure").find(n.assetImageClass),i=t('<div class="modal-content__wrapper"></div>').html(e.find(".bookmark__body").html());i.find(".region-map").addClass("region-map--black");var s='<div class="bookmark-modal__wrapper"><div class="bookmark-modal__image" style="background-image: url('+a.find("img").attr("src")+');">'+a.html()+'</div><div class="bookmark-modal__content"><div class="bookmark-modal-content__wrapper">'+i.html()+"</div></div></div>";l(s,e,o)},l=function(e,o,a){var i=o.closest(".js-contentblock");i.length&&u(i);var s=i.attr("id"),n=t("#modal-"+s).iziModal(izimodalSettings);n.iziModal("setContent",e),n.iziModal("open",a),o.addClass("js-modal-is-open")},c=function(e){var o=e.closest(".js-contentblock").attr("id");t("#modal-"+o).iziModal("close"),e.removeClass("js-modal-is-open")},d=function(e){e.addClass(n.active_class_mini)},m=function(e){e.removeClass(n.active_class_mini)},u=function(e){null===n.bHasSwiper&&e[0].querySelector(".js-swiper")&&(n.bHasSwiper=!0,n.$swiperReference=e[0].querySelector(".js-swiper").swiper),n.bHasSwiper&&setTimeout(function(){n.$swiperReference&&n.$swiperReference.autoplay.stop()},200)},e=function(){n.$swiperReference&&(n.$swiperReference.autoplay.start(),n.$swiperReference=null)},k=function(e){e.preventDefault();var o=t(this).closest(n.bookmarkClass);a("<"+n.breakpoint_modal)&&s(o)?r(o,e):d(o)};n.$document.on("click",function(e){t(e.target).closest(n.bookmarkClass).length||t(n.bookmarkClass+"."+n.active_class_mini).each(function(){var e=t(this);m(e)})}),n.$window.on("resize",function(){var e;t(n.bookmarkClass+"."+n.active_class_modal).length&&(e=t(n.bookmarkClass+"."+n.active_class_modal)),t(n.bookmarkClass+"."+n.active_class_mini).length&&(e=t(n.bookmarkClass+"."+n.active_class_mini)),e&&(s(e)&&e.hasClass(n.active_class_modal)?a("<"+n.breakpoint_modal)||(a("<"+n.breakpoint_mini)?(c(e),d(e)):c(e)):e.hasClass(n.active_class_mini)&&s(e)&&a("<"+n.breakpoint_modal)&&(m(e),r(e)))}),t("body").on("click",n.buttonClass,k)},TNZ.JSLib.requireLoadEvent(["jqready"],function(){TNZ.Bookmark(jQuery)});