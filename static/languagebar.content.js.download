TNZ=window.TNZ||{},TNZ.LanguangeBarContent=function(o){if(!1==!!(o=o||{}).cookiename||0===o.cookiename.length)throw new Error('Settings param "cookiename" is required. This is name of the cookie to track if the language bar was used eg:"tnz_languange_market_selector_used". This should match the cookie name used in languagebar.js.');if(!1==!!o.displaytype||0===o.displaytype.length)throw new Error('Settings param "displaytype" is required. This is name of the display to use. Eg."allmarketlist","changeto","changetospanishlist"');if(!1==!!o.destinationmarket||0===o.destinationmarket.length)throw new Error('Settings param "destinationmarket" is required. This is the 2 letter market type');var i={},r={htmlContent:['<div class="language-bar" id="js-tnz-language-bar-switcher-wrapper"><div class="language-bar__inner">',"",'<button class="language-bar__close" id="js-language-bar-switcher-close"><i class="o-icon js-icon  o-icon--small "><svg class="icon cross" role="img" aria-label="Close" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><title>Close</title><path d="M25.333 6q0.573 0 0.953 0.38t0.38 0.953q0 0.563-0.385 0.948l-8.396 8.385 8.396 8.385q0.385 0.385 0.385 0.948 0 0.573-0.38 0.953t-0.953 0.38q-0.563 0-0.948-0.385l-8.385-8.396-8.385 8.396q-0.385 0.385-0.948 0.385-0.573 0-0.953-0.38t-0.38-0.953q0-0.563 0.385-0.948l8.396-8.385-8.396-8.385q-0.385-0.385-0.385-0.948 0-0.573 0.38-0.953t0.953-0.38q0.563 0 0.948 0.385l8.385 8.396 8.385-8.396q0.385-0.385 0.948-0.385z" ></path></svg></i></button></div></div>'],marketDetailsLanguageBarLookUp:TNZ.MarketEditionsData.getLanguageBarData(),marketDetailsLookUp:TNZ.MarketEditionsData.getEditionData(),domain:"//"+document.location.host},l=function(e,a,t){return TNZ.Util.findObjectInArrayByKey(e,a,t)};i.setCookie=function(e){null!=e&&TNZ.Cookie.set(o.cookiename,e,e)};var s=function(e,a){e.preventDefault(),i.setCookie(1),document.location.href=a};return function(){var e,a,t,n="";switch(o.displaytype){case"allmarketlist":n=function(){var e='<p class="language-bar__text">Change language: <select id="js-language-bar-marketlanguage-select" class="js-chosen trk-language-bar-marketlanguage-select">';e+='<option value="'+r.domain+'/int/"> Please select </option>';for(var a=0,t=r.marketDetailsLanguageBarLookUp.length;a<t;a++)e+='<option value="'+r.domain+"/"+r.marketDetailsLanguageBarLookUp[a].mf+'/" data-name_key="'+r.marketDetailsLanguageBarLookUp[a].m+'">'+r.marketDetailsLanguageBarLookUp[a].label+"</option>";return e+="</select></p>",r.htmlContent[1]=e,r.htmlContent.join("")}();break;case"changetospanishlist":e='<p class="language-bar__text " id="js-language-bar-changeto-link-wrapper">Le&iacute;do en Espa&ntilde;ol: <a href="'+r.domain+'/ar/">Argentina</a> | <a href="'+r.domain+'/cl/">Chile</a> | <a href="'+r.domain+'/mx/">Mexico</a></p>',r.htmlContent[1]=e,n=r.htmlContent.join("");break;default:n=function(e){var a=l(r.marketDetailsLookUp,"m",e),t="",n={},o="";if(a&&(n="en"===a.lang?l(r.marketDetailsLanguageBarLookUp,"m",a.lang):l(r.marketDetailsLanguageBarLookUp,"m",e))){t=n.label;var i='<p class="language-bar__text" id="js-language-bar-changeto-link-wrapper">Change language: <a href="'+r.domain+"/"+a.mf+'/" class="">'+t+"</a></p>";r.htmlContent[1]=i,o=r.htmlContent.join("")}return o}(o.destinationmarket)}n.length&&(function(e){var a=document.body;if(!a)throw new Error("No <body> node could be found, so could not attach language bar switcher.");a.insertAdjacentHTML("beforeEnd",e)}(n),a=document.getElementById("js-language-bar-changeto-link-wrapper"),t=document.getElementById("js-language-bar-marketlanguage-select"),a&&a.addEventListener("click",function(e){e.preventDefault();var a=e.target;"A"===a.tagName&&(i.setCookie(1),document.location.href=a.getAttribute("href"))}),t&&t.addEventListener("change",function(e){s(e,this.value)}),document.getElementById("js-language-bar-switcher-close").addEventListener("click",function(e){e.preventDefault();var a=document.getElementById("js-tnz-language-bar-switcher-wrapper");a&&a.remove(),i.setCookie(30)}))}(),i};